{"ast":null,"code":"import _slicedToArray from\"C:/Users/User/Desktop/Book Land/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Button,Grid,Typography}from\"@mui/material\";import{useNavigate}from\"react-router-dom\";import SideImage from\"../assets/images/books-topics.png\";import TextInput from\"../components/common/TextInput\";import{checkObjectValues,validateEmailAndPassword}from\"../utils/vaildations\";import{useApi}from\"../hooks/useApi\";import{signup}from\"../services/bookland/auth\";import\"../styles/auth.scss\";import{useDispatch}from\"react-redux\";import{showNotification}from\"../store/reducers/ui-slice\";import Loading from\"../components/ui/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(){var _useApi=useApi(),_useApi2=_slicedToArray(_useApi,3),isLoading=_useApi2[0],isError=_useApi2[1],callApi=_useApi2[2];var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState({email:\"\",password:\"\",confirmPassword:\"\"}),_useState2=_slicedToArray(_useState,2),signupData=_useState2[0],setSignupData=_useState2[1];var signupHandler=function signupHandler(){var valid=validateEmailAndPassword(signupData.email,signupData.password,signupData.confirmPassword);if(valid.status===\"ok\"){callApi(function(){return signup(signupData).then(function(res){if(!isError){if(res.status===\"ok\"){dispatch(showNotification({show:true,type:\"success\",message:\"User Signed up Successfully\"}));navigate(\"/login\");}else{dispatch(showNotification({show:true,type:\"error\",message:\"This User Already exists\"}));}}});});}else{dispatch(showNotification({show:true,type:\"error\",message:valid.message}));}};return/*#__PURE__*/_jsxs(Grid,{container:true,className:\"authPage\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,className:\"sideImgcontainer\",children:/*#__PURE__*/_jsx(\"img\",{src:SideImage,alt:\"Side pics for books\",className:\"w-100\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,className:\"formSide\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h1\",textAlign:\"center\",marginBottom:\"80px\",children:\"Signup\"}),/*#__PURE__*/_jsx(TextInput,{label:\"Email or Username\",name:\"email\",setValue:setSignupData,value:signupData.email,className:\"mb-10\"}),/*#__PURE__*/_jsx(TextInput,{label:\"Password\",name:\"password\",setValue:setSignupData,value:signupData.password,eye:true,className:\"mb-10\"}),/*#__PURE__*/_jsx(TextInput,{label:\"Confirm Password\",name:\"confirmPassword\",setValue:setSignupData,value:signupData.confirmPassword,eye:true}),isLoading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:\"w-100 mt-30\",disabled:checkObjectValues(signupData),onClick:signupHandler,children:\"Signup\"}),/*#__PURE__*/_jsx(Button,{className:\"newUser\",onClick:function onClick(){return navigate(\"/login\");},children:\"Already have an account?\"})]})})]});};export default Signup;","map":{"version":3,"names":["React","useState","Button","Grid","Typography","useNavigate","SideImage","TextInput","checkObjectValues","validateEmailAndPassword","useApi","signup","useDispatch","showNotification","Loading","jsx","_jsx","jsxs","_jsxs","Signup","_useApi","_useApi2","_slicedToArray","isLoading","isError","callApi","navigate","dispatch","_useState","email","password","confirmPassword","_useState2","signupData","setSignupData","signupHandler","valid","status","then","res","show","type","message","container","className","children","item","xs","md","src","alt","variant","textAlign","marginBottom","label","name","setValue","value","eye","disabled","onClick"],"sources":["C:/Users/User/Desktop/Book Land/client/src/pages/Signup.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Grid, Typography } from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport SideImage from \"../assets/images/books-topics.png\";\nimport TextInput from \"../components/common/TextInput\";\n\nimport {\n  checkObjectValues,\n  validateEmailAndPassword,\n} from \"../utils/vaildations\";\n\nimport { useApi } from \"../hooks/useApi\";\n\nimport { signup } from \"../services/bookland/auth\";\n\nimport \"../styles/auth.scss\";\nimport { useDispatch } from \"react-redux\";\nimport { showNotification } from \"../store/reducers/ui-slice\";\nimport Loading from \"../components/ui/Loading\";\n\nconst Signup = () => {\n  const [isLoading, isError, callApi] = useApi();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [signupData, setSignupData] = useState({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  const signupHandler = () => {\n    const valid = validateEmailAndPassword(\n      signupData.email,\n      signupData.password,\n      signupData.confirmPassword\n    );\n    if (valid.status === \"ok\") {\n      callApi(() =>\n        signup(signupData).then((res) => {\n          if (!isError) {\n            if (res.status === \"ok\") {\n              dispatch(\n                showNotification({\n                  show: true,\n                  type: \"success\",\n                  message: \"User Signed up Successfully\",\n                })\n              );\n              navigate(\"/login\");\n            } else {\n              dispatch(\n                showNotification({\n                  show: true,\n                  type: \"error\",\n                  message: \"This User Already exists\",\n                })\n              );\n            }\n          }\n        })\n      );\n    } else {\n      dispatch(\n        showNotification({ show: true, type: \"error\", message: valid.message })\n      );\n    }\n  };\n  return (\n    <Grid container className=\"authPage\">\n      <Grid item xs={12} md={6} className=\"sideImgcontainer\">\n        <img src={SideImage} alt=\"Side pics for books\" className=\"w-100\" />\n      </Grid>\n      <Grid item xs={12} md={6} className=\"formSide\">\n        <div className=\"container\">\n          <Typography variant=\"h1\" textAlign={\"center\"} marginBottom=\"80px\">\n            Signup\n          </Typography>\n          <TextInput\n            label={\"Email or Username\"}\n            name=\"email\"\n            setValue={setSignupData}\n            value={signupData.email}\n            className=\"mb-10\"\n          />\n          <TextInput\n            label={\"Password\"}\n            name=\"password\"\n            setValue={setSignupData}\n            value={signupData.password}\n            eye\n            className={\"mb-10\"}\n          />\n          <TextInput\n            label={\"Confirm Password\"}\n            name=\"confirmPassword\"\n            setValue={setSignupData}\n            value={signupData.confirmPassword}\n            eye\n          />\n          {isLoading ? (\n            <Loading />\n          ) : (\n            <Button\n              variant=\"contained\"\n              className=\"w-100 mt-30\"\n              disabled={checkObjectValues(signupData)}\n              onClick={signupHandler}\n            >\n              Signup\n            </Button>\n          )}\n          <Button className=\"newUser\" onClick={() => navigate(\"/login\")}>\n            Already have an account?\n          </Button>\n        </div>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Signup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}